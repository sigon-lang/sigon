


def calc_acc(accs):
    acum = 0
    for a in accs:
        acum += a['accuracy']
        

    print(acum/12)
    return acum/12



def mean_time(times):
    acum = 0
    for a in times:
        acum += a
        

    print(acum/10)
    return acum/10


times_finetuning = [1902.3500425815582, 1721.010038137436, 1820.3220150470734, 1757.0587055683136, 1717.3453197479248, 1694.5470542907715, 1761.7815217971802, 1669.681696653366, 1771.764316558838, 1814.2626638412476]
mean_time(times_finetuning)

times_sigon = [1433.1426405906677, 1424.6650953292847, 1357.7047247886658, 1145.3097970485687, 1390.6845767498016, 1351.4375348091125, 1442.982277393341, 1299.0076467990875, 1344.689659357071, 1013.5233116149902]
mean_time(times_sigon)


# accs = [{'accuracy': 0.5837451815605164, 'loss': 1.253461241722107}, {'accuracy': 0.6683968305587769, 'loss': 0.6672672629356384}, {'accuracy': 0.7016255259513855, 'loss': 0.6566146612167358}, {'accuracy': 0.7721477746963501, 'loss': 0.6670433282852173}, {'accuracy': 0.6691496968269348, 'loss': 0.8754005432128906}, {'accuracy': 0.7784756422042847, 'loss': 0.5434117317199707}, {'accuracy': 0.7912331819534302, 'loss': 0.6119273900985718}, {'accuracy': 0.7545844912528992, 'loss': 0.5249558091163635}, {'accuracy': 0.6756201386451721, 'loss': 0.8234890699386597}, {'accuracy': 0.862140417098999, 'loss': 0.2891966998577118}, {'accuracy': 0.8047999739646912, 'loss': 0.5838810801506042}, {'accuracy': 0.9330400228500366, 'loss': 0.16121819615364075}]
# acum_fixed_proportion = calc_acc(accs)
# print('with patience train only ', acum_fixed_proportion)


# accs = [{'accuracy': 0.9208095073699951, 'loss': 0.18683820962905884}, {'accuracy': 0.8873229026794434, 'loss': 0.28164148330688477}, {'accuracy': 0.8601806163787842, 'loss': 0.29912206530570984}, {'accuracy': 0.8920356631278992, 'loss': 0.26157864928245544}, {'accuracy': 0.9052971005439758, 'loss': 0.22168391942977905}, {'accuracy': 0.8774405717849731, 'loss': 0.2916138172149658}, {'accuracy': 0.9033468961715698, 'loss': 0.2474678009748459}, {'accuracy': 0.8720088005065918, 'loss': 0.30825692415237427}, {'accuracy': 0.8519810438156128, 'loss': 0.33070647716522217}, {'accuracy': 0.8322957158088684, 'loss': 0.4647502303123474}, {'accuracy': 0.8523399829864502, 'loss': 0.4622102677822113}, {'accuracy': 0.8112800121307373, 'loss': 0.45783787965774536}]
# accs = [{'accuracy': 0.6782795786857605, 'loss': 2.5631163120269775}, {'accuracy': 0.6263368725776672, 'loss': 2.2505581378936768}, {'accuracy': 0.6127874851226807, 'loss': 2.3191771507263184}, {'accuracy': 0.7102069854736328, 'loss': 1.0984891653060913}, {'accuracy': 0.7057849764823914, 'loss': 1.3692026138305664}, {'accuracy': 0.7252742648124695, 'loss': 0.8763445019721985}, {'accuracy': 0.5767877101898193, 'loss': 3.6772143840789795}, {'accuracy': 0.7625536322593689, 'loss': 0.6040593385696411}, {'accuracy': 0.7624942064285278, 'loss': 0.6509005427360535}, {'accuracy': 0.8841854333877563, 'loss': 0.36609429121017456}, {'accuracy': 0.6132799983024597, 'loss': 2.119112491607666}, {'accuracy': 0.9355499744415283, 'loss': 0.16441933810710907}]
# accs = [{'accuracy': 0.6734018325805664, 'loss': 2.720881462097168}, {'accuracy': 0.644291341304779, 'loss': 3.272888660430908}, {'accuracy': 0.6207104325294495, 'loss': 2.8223283290863037}, {'accuracy': 0.7472255229949951, 'loss': 1.6834421157836914}, {'accuracy': 0.6630292534828186, 'loss': 2.7947521209716797}, {'accuracy': 0.7017623782157898, 'loss': 1.320412039756775}, {'accuracy': 0.5683281421661377, 'loss': 4.256620407104492}, {'accuracy': 0.8117116093635559, 'loss': 0.5467281937599182}, {'accuracy': 0.7630199790000916, 'loss': 0.8367565274238586}, {'accuracy': 0.856562614440918, 'loss': 0.6107680201530457}, {'accuracy': 0.7675899863243103, 'loss': 1.496702790260315}, {'accuracy': 0.9325399994850159, 'loss': 0.1755724400281906}]
# acum = calc_acc(accs)
# print('with patience finetuning only ', acum)


# accs = [{'accuracy': 0.8317182064056396, 'loss': 0.4211258888244629}, {'accuracy': 0.6793874502182007, 'loss': 0.5473161339759827}, {'accuracy': 0.7831186056137085, 'loss': 0.4626525938510895}, {'accuracy': 0.7084789276123047, 'loss': 0.5243589282035828}, {'accuracy': 0.7612388730049133, 'loss': 0.4837431013584137}, {'accuracy': 0.7017623782157898, 'loss': 0.5605219006538391}, {'accuracy': 0.6880457401275635, 'loss': 0.7264073491096497}, {'accuracy': 0.7753439545631409, 'loss': 0.44743451476097107}, {'accuracy': 0.756870448589325, 'loss': 0.4915521442890167}, {'accuracy': 0.8012011647224426, 'loss': 0.4875394105911255}, {'accuracy': 0.6899300217628479, 'loss': 0.6291412711143494}, {'accuracy': 0.8324800133705139, 'loss': 0.392287939786911}]

# accs = [{'accuracy': 0.8108828663825989, 'loss': 0.4599461555480957}, {'accuracy': 0.8185529112815857, 'loss': 0.441369891166687}, {'accuracy': 0.8207104206085205, 'loss': 0.42286187410354614}, {'accuracy': 0.8372950553894043, 'loss': 0.43634679913520813}, {'accuracy': 0.8738892078399658, 'loss': 0.3080202043056488}, {'accuracy': 0.842337965965271, 'loss': 0.3631046712398529}, {'accuracy': 0.7479628920555115, 'loss': 0.5207734704017639}, {'accuracy': 0.8219482898712158, 'loss': 0.3611612021923065}, {'accuracy': 0.8579394221305847, 'loss': 0.3017497658729553}, {'accuracy': 0.919931948184967, 'loss': 0.19228270649909973}, {'accuracy': 0.8869600296020508, 'loss': 0.3361946940422058}, {'accuracy': 0.9094700217247009, 'loss': 0.2143191248178482}]
#accs = [{'accuracy': 0.7099363803863525, 'loss': 0.8098418712615967}, {'accuracy': 0.7275430560112, 'loss': 1.352285623550415}, {'accuracy': 0.7342082858085632, 'loss': 0.6348684430122375}, {'accuracy': 0.8096847534179688, 'loss': 0.4290575683116913}, {'accuracy': 0.7667494416236877, 'loss': 0.4596354067325592}, {'accuracy': 0.7889919877052307, 'loss': 0.5079919695854187}, {'accuracy': 0.8739036321640015, 'loss': 0.31977716088294983}, {'accuracy': 0.8149036765098572, 'loss': 0.5532952547073364}, {'accuracy': 0.8598193526268005, 'loss': 0.403604656457901}, {'accuracy': 0.9017751812934875, 'loss': 0.2702236771583557}, {'accuracy': 0.7857199907302856, 'loss': 0.7885088324546814}, {'accuracy': 0.9101600050926208, 'loss': 0.21594727039337158}]

#1
# accs = [{'accuracy': 0.6821559071540833, 'loss': 0.7152615785598755}, {'accuracy': 0.7686609625816345, 'loss': 1.0307466983795166}, {'accuracy': 0.7409512400627136, 'loss': 0.6952710747718811}, {'accuracy': 0.7764294743537903, 'loss': 0.7926099300384521}, {'accuracy': 0.8186095356941223, 'loss': 0.4749053418636322}, {'accuracy': 0.8225449919700623, 'loss': 0.5039148926734924}, {'accuracy': 0.8880418539047241, 'loss': 0.3281019926071167}, {'accuracy': 0.8427518010139465, 'loss': 0.4183487594127655}, {'accuracy': 0.8792079091072083, 'loss': 0.36494573950767517}, {'accuracy': 0.8175179958343506, 'loss': 0.523521900177002}, {'accuracy': 0.9408100247383118, 'loss': 0.14683367311954498}, {'accuracy': 0.9078999757766724, 'loss': 0.24486583471298218}]
#2
# accs= [{'accuracy': 0.6838517785072327, 'loss': 0.5489506721496582}, {'accuracy': 0.7166263461112976, 'loss': 1.2734955549240112}, {'accuracy': 0.7685490846633911, 'loss': 0.5673207640647888}, {'accuracy': 0.8343189358711243, 'loss': 0.36131197214126587}, {'accuracy': 0.873845636844635, 'loss': 0.29265907406806946}, {'accuracy': 0.800231397151947, 'loss': 0.5072528719902039}, {'accuracy': 0.8694307804107666, 'loss': 0.31639087200164795}, {'accuracy': 0.7973362803459167, 'loss': 0.47223156690597534}, {'accuracy': 0.8395704627037048, 'loss': 0.38885506987571716}, {'accuracy': 0.887772798538208, 'loss': 0.25149232149124146}, {'accuracy': 0.8540300130844116, 'loss': 0.35865890979766846}, {'accuracy': 0.8468800187110901, 'loss': 0.3463965356349945}]
#12 
# accs= [{'accuracy': 0.7591013312339783, 'loss': 0.5363566279411316}, {'accuracy': 0.797883152961731, 'loss': 0.599687933921814}, {'accuracy': 0.7921733856201172, 'loss': 0.47783756256103516}, {'accuracy': 0.7381244897842407, 'loss': 0.5942107439041138}, {'accuracy': 0.8546349406242371, 'loss': 0.33709558844566345}, {'accuracy': 0.8108510375022888, 'loss': 0.4234706461429596}, {'accuracy': 0.8719589114189148, 'loss': 0.338561475276947}, {'accuracy': 0.8431700468063354, 'loss': 0.3622429370880127}, {'accuracy': 0.8737593293190002, 'loss': 0.2974351644515991}, {'accuracy': 0.8343786597251892, 'loss': 0.3767271935939789}, {'accuracy': 0.9083099961280823, 'loss': 0.2316640466451645}, {'accuracy': 0.8835600018501282, 'loss': 0.27221375703811646}]
# acum = calc_acc(accs)
# print('without patience sigon ', acum)

accs = [{'accuracy': 0.7652711868286133, 'loss': 1.728410005569458}, {'accuracy': 0.7417477965354919, 'loss': 1.4258283376693726}, {'accuracy': 0.8034678101539612, 'loss': 1.2237426042556763}, {'accuracy': 0.80229252576828, 'loss': 0.9400278925895691}, {'accuracy': 0.8527400493621826, 'loss': 0.7597566246986389}, {'accuracy': 0.8459535837173462, 'loss': 0.7688004374504089}, {'accuracy': 0.7419731020927429, 'loss': 1.16340172290802}, {'accuracy': 0.8532966375350952, 'loss': 1.0772671699523926}, {'accuracy': 0.8599148988723755, 'loss': 1.1689577102661133}, {'accuracy': 0.8433818817138672, 'loss': 1.0895907878875732}, {'accuracy': 0.8364800214767456, 'loss': 1.0217936038970947}, {'accuracy': 0.9275400042533875, 'loss': 0.19987085461616516}]

# accs = {'accuracy': 0.8137093186378479, 'loss': 0.6485017538070679}, {'accuracy': 0.6412065625190735, 'loss': 0.9190258383750916}, {'accuracy': 0.7395785450935364, 'loss': 0.727776050567627}, {'accuracy': 0.7571330070495605, 'loss': 1.0048596858978271}, {'accuracy': 0.7953912019729614, 'loss': 0.5896424651145935}, {'accuracy': 0.6707919239997864, 'loss': 1.7755812406539917}, {'accuracy': 0.6711071133613586, 'loss': 1.4890358448028564}, {'accuracy': 0.7179967164993286, 'loss': 0.7570679783821106}, {'accuracy': 0.7712246775627136, 'loss': 0.6330180764198303}, {'accuracy': 0.8467956781387329, 'loss': 0.4727420508861542}, {'accuracy': 0.9533500075340271, 'loss': 0.12457757443189621}, {'accuracy': 0.8452900052070618, 'loss': 0.3957819640636444}]
acum = calc_acc(accs)
print('with patience sigon ', acum)

accs = [{'accuracy': 0.7511709928512573, 'loss': 1.0094996690750122}, {'accuracy': 0.8047361373901367, 'loss': 1.261090636253357}, {'accuracy': 0.750463604927063, 'loss': 1.1765834093093872}, {'accuracy': 0.7947851419448853, 'loss': 0.9242770075798035}, {'accuracy': 0.8544389009475708, 'loss': 0.6284595131874084}, {'accuracy': 0.8119460344314575, 'loss': 1.1274560689926147}, {'accuracy': 0.8820520639419556, 'loss': 0.666607141494751}, {'accuracy': 0.8554540276527405, 'loss': 0.5408914685249329}, {'accuracy': 0.8347273468971252, 'loss': 0.7957345843315125}, {'accuracy': 0.8812808394432068, 'loss': 0.49135977029800415}, {'accuracy': 0.9127399921417236, 'loss': 0.24587810039520264}, {'accuracy': 0.9445000290870667, 'loss': 0.14389409124851227}]
acum = calc_acc(accs)
print('with patience fine tuning ', acum)

# accs = [{'accuracy': 0.744597315788269, 'loss': 1.222320318222046}, {'accuracy': 0.7233869433403015, 'loss': 1.1642405986785889}, {'accuracy': 0.7985791563987732, 'loss': 0.803213357925415}, {'accuracy': 0.8430359959602356, 'loss': 1.4279524087905884}, {'accuracy': 0.779447615146637, 'loss': 0.8341963291168213}, {'accuracy': 0.8207061886787415, 'loss': 1.0137441158294678}, {'accuracy': 0.7814900279045105, 'loss': 0.8057572245597839}, {'accuracy': 0.8553219437599182, 'loss': 0.5190316438674927}, {'accuracy': 0.8185728788375854, 'loss': 0.5623430609703064}, {'accuracy': 0.8890225887298584, 'loss': 1.0132232904434204}, {'accuracy': 0.9194200038909912, 'loss': 0.22037513554096222}, {'accuracy': 0.9395800232887268, 'loss': 0.16002768278121948}]
# acum = calc_acc(accs)
# print('with patience fine tuning ', acum)
# # # accs = [{'accuracy': 0.9128953218460083, 'loss': 0.2097465544939041}, {'accuracy': 0.8713449239730835, 'loss': 0.3017968237400055}, {'accuracy': 0.8887417316436768, 'loss': 0.25759080052375793}, {'accuracy': 0.9019814729690552, 'loss': 0.21784137189388275}, {'accuracy': 0.9149895310401917, 'loss': 0.20329122245311737}, {'accuracy': 0.8878535628318787, 'loss': 0.26670488715171814}, {'accuracy': 0.9057000279426575, 'loss': 0.2146756798028946}, {'accuracy': 0.8930985331535339, 'loss': 0.24505920708179474}, {'accuracy': 0.9153562784194946, 'loss': 0.1939195990562439}, {'accuracy': 0.9046450853347778, 'loss': 0.23637156188488007}, {'accuracy': 0.9002400040626526, 'loss': 0.24583131074905396}, {'accuracy': 0.8826799988746643, 'loss': 0.33256450295448303}]
# # accs = [{'accuracy': 0.90052330493927, 'loss': 0.2736458480358124}, {'accuracy': 0.8878585696220398, 'loss': 0.5165194869041443}, {'accuracy': 0.898807942867279, 'loss': 0.27268078923225403}, {'accuracy': 0.9279213547706604, 'loss': 0.23065930604934692}, {'accuracy': 0.9241810441017151, 'loss': 0.2288343608379364}, {'accuracy': 0.9059110283851624, 'loss': 0.2725290060043335}, {'accuracy': 0.8920868635177612, 'loss': 0.4401719868183136}, {'accuracy': 0.9063951373100281, 'loss': 0.26626381278038025}, {'accuracy': 0.9166148900985718, 'loss': 0.24799701571464539}, {'accuracy': 0.8019533753395081, 'loss': 1.4383846521377563}, {'accuracy': 0.8908500075340271, 'loss': 0.5139699578285217}, {'accuracy': 0.8540700078010559, 'loss': 1.466156244277954}]


# # acum_fixed_proportion = calc_acc(accs)
# # print('fixed propr mean ', acum_fixed_proportion)



# # accs = [{'accuracy': 0.9024291634559631, 'loss': 0.23507942259311676}, {'accuracy': 0.8768494725227356, 'loss': 0.289756715297699}, {'accuracy': 0.8783142566680908, 'loss': 0.2778025269508362}, {'accuracy': 0.9010022878646851, 'loss': 0.23846176266670227}, {'accuracy': 0.9025744795799255, 'loss': 0.23304003477096558}, {'accuracy': 0.8709117770195007, 'loss': 0.29382428526878357}, {'accuracy': 0.8451994061470032, 'loss': 0.35738757252693176}, {'accuracy': 0.8693230748176575, 'loss': 0.3026183545589447}, {'accuracy': 0.8376109004020691, 'loss': 0.3632214367389679}, {'accuracy': 0.7027217745780945, 'loss': 0.4081673324108124}, {'accuracy': 0.9139599800109863, 'loss': 0.2737273573875427}, {'accuracy': 0.868340015411377, 'loss': 0.35648420453071594}]


# # acum_fixed_proportion = calc_acc(accs)
# # print('dynamic propr mean ', acum_fixed_proportion)




# # # feature extraction with 30 epocs with aptience
# # accs = [{'accuracy': 0.7101243138313293, 'loss': 0.8342442512512207}, {'accuracy': 0.7662853598594666, 'loss': 0.7141382098197937}, {'accuracy': 0.774816632270813, 'loss': 0.6851223707199097}, {'accuracy': 0.7345792055130005, 'loss': 0.6962125897407532}, {'accuracy': 0.7105845212936401, 'loss': 0.64031583070755}, {'accuracy': 0.7076680660247803, 'loss': 0.8780283331871033}, {'accuracy': 0.7709851264953613, 'loss': 0.49709442257881165}, {'accuracy': 0.7716547846794128, 'loss': 0.7820748686790466}, {'accuracy': 0.6557502150535583, 'loss': 0.6303220987319946}, {'accuracy': 0.5962600111961365, 'loss': 1.3651223182678223}, {'accuracy': 0.7310400009155273, 'loss': 0.4908747971057892}]


# # acum_fixed_proportion = calc_acc(accs)
# # print('feature extraction with 30 epocs with aptience ', acum_fixed_proportion)




# # accs = [{'accuracy': 0.6337015628814697, 'loss': 1.3424501419067383}, {'accuracy': 0.5909082293510437, 'loss': 2.3498494625091553}, {'accuracy': 0.6691872477531433, 'loss': 1.107231855392456}, {'accuracy': 0.78524249792099, 'loss': 0.7727143168449402}, {'accuracy': 0.651006281375885, 'loss': 1.2402790784835815}, {'accuracy': 0.6210615634918213, 'loss': 1.4199453592300415}, {'accuracy': 0.5746290683746338, 'loss': 2.514479637145996}, {'accuracy': 0.7563676238059998, 'loss': 0.652887761592865}, {'accuracy': 0.8021316528320312, 'loss': 0.6214675307273865}, {'accuracy': 0.86892169713974, 'loss': 0.46418896317481995}, {'accuracy': 0.7700200080871582, 'loss': 0.8449742197990417}, {'accuracy': 0.937720000743866, 'loss': 0.15833604335784912}]

# # # train with 30 epocs with aptience
# # acum_fixed_proportion = calc_acc(accs)
# # print('train with 30 epocs with aptience ', acum_fixed_proportion)


# # agent + nn without patience
# # accs = [{'accuracy': 0.7895952463150024, 'loss': 0.7758817076683044}, {'accuracy': 0.7234238982200623, 'loss': 0.9959392547607422}, {'accuracy': 0.7436243295669556, 'loss': 0.6398555636405945}, {'accuracy': 0.8144848346710205, 'loss': 0.42635828256607056}, {'accuracy': 0.8582723736763, 'loss': 0.4922376275062561}, {'accuracy': 0.8483502268791199, 'loss': 0.3972476124763489}, {'accuracy': 0.878862738609314, 'loss': 0.39345917105674744}, {'accuracy': 0.8512713313102722, 'loss': 0.42043933272361755}, {'accuracy': 0.8539884090423584, 'loss': 0.4382893145084381}, {'accuracy': 0.8225403428077698, 'loss': 0.6592695116996765}, {'accuracy': 0.8680999875068665, 'loss': 0.40486714243888855}, {'accuracy': 0.8915600180625916, 'loss': 0.2764940559864044}]


# # # train with 30 epocs with aptience
# # acum_fixed_proportion = calc_acc(accs)
# # print('agent + nn with 10 epocs without aptience ', acum_fixed_proportion)


# # train with 10 epochs without patience
# # accs = [{'accuracy': 0.6719643473625183, 'loss': 1.3746434450149536}, {'accuracy': 0.7633965611457825, 'loss': 0.8429204225540161}, {'accuracy': 0.7092112898826599, 'loss': 0.8925405144691467}, {'accuracy': 0.7689604759216309, 'loss': 1.01876699924469}, {'accuracy': 0.79582679271698, 'loss': 0.5448473691940308}, {'accuracy': 0.7906241416931152, 'loss': 0.631225049495697}, {'accuracy': 0.8297971487045288, 'loss': 0.471664160490036}, {'accuracy': 0.8313043713569641, 'loss': 0.5064436793327332}, {'accuracy': 0.8248976469039917, 'loss': 0.4712390899658203}, {'accuracy': 0.8153539896011353, 'loss': 0.42446404695510864}, {'accuracy': 0.8997200131416321, 'loss': 0.3141828179359436}, {'accuracy': 0.9384599924087524, 'loss': 0.14948031306266785}]
# # accs = [{'accuracy': 0.6757922172546387, 'loss': 1.6378546953201294}, {'accuracy': 0.6637604832649231, 'loss': 1.4598082304000854}, {'accuracy': 0.7442986369132996, 'loss': 0.8718604445457458}, {'accuracy': 0.7777543067932129, 'loss': 0.9348107576370239}, {'accuracy': 0.5877548456192017, 'loss': 2.3813064098358154}, {'accuracy': 0.7016177177429199, 'loss': 0.9325154423713684}, {'accuracy': 0.8328503966331482, 'loss': 0.5383077263832092}, {'accuracy': 0.728915810585022, 'loss': 0.6783694624900818}, {'accuracy': 0.786216139793396, 'loss': 0.5824248790740967}, {'accuracy': 0.8504409193992615, 'loss': 0.40613722801208496}, {'accuracy': 0.7989400029182434, 'loss': 1.0030298233032227}, {'accuracy': 0.9368100166320801, 'loss': 0.15533596277236938}]
# # acum_fixed_proportion = calc_acc(accs)
# # print('train with 10 epochs without patience ', acum_fixed_proportion)


# # feature with 15 epochs without patience

# # accs = [{'accuracy': 0.8133701682090759, 'loss': 0.5171031355857849}, {'accuracy': 0.7884441614151001, 'loss': 0.5949926376342773}, {'accuracy': 0.7359662652015686, 'loss': 0.636816143989563}, {'accuracy': 0.8350870013237, 'loss': 0.4211626350879669}, {'accuracy': 0.8179343342781067, 'loss': 0.4072049558162689}, {'accuracy': 0.774364173412323, 'loss': 0.5046935081481934}, {'accuracy': 0.6667120456695557, 'loss': 0.8047672510147095}, {'accuracy': 0.7777435183525085, 'loss': 0.4867733418941498}, {'accuracy': 0.7322723269462585, 'loss': 0.5805051326751709}, {'accuracy': 0.6587821245193481, 'loss': 0.600671648979187}, {'accuracy': 0.6301400065422058, 'loss': 0.9252728819847107}, {'accuracy': 0.7541599869728088, 'loss': 0.4703691005706787}]


# # acum_fixed_proportion = calc_acc(accs)
# # print('train with 10 epochs without patience ', acum_fixed_proportion)


# # sigon without patience
# # accs = [{'accuracy': 0.697402834892273, 'loss': 1.612204909324646}, {'accuracy': 0.7620296478271484, 'loss': 0.7282881736755371}, {'accuracy': 0.7357495427131653, 'loss': 0.7444614171981812}, {'accuracy': 0.7793863415718079, 'loss': 0.7686423063278198}, {'accuracy': 0.8258407115936279, 'loss': 0.49448829889297485}, {'accuracy': 0.8058924674987793, 'loss': 0.5896469354629517}, {'accuracy': 0.7489935755729675, 'loss': 0.8709732890129089}, {'accuracy': 0.8497303128242493, 'loss': 0.3712518811225891}, {'accuracy': 0.8557409048080444, 'loss': 0.4383614659309387}, {'accuracy': 0.8098224997520447, 'loss': 0.44825729727745056}, {'accuracy': 0.9576399922370911, 'loss': 0.1258605718612671}, {'accuracy': 0.8174200057983398, 'loss': 0.35536491870880127}]
# # accs = [{'accuracy': 0.7657234072685242, 'loss': 0.7329353094100952}, {'accuracy': 0.8152649998664856, 'loss': 0.6595790982246399}, {'accuracy': 0.8010114431381226, 'loss': 0.5885656476020813}, {'accuracy': 0.7436350584030151, 'loss': 1.380829930305481}, {'accuracy': 0.8319829106330872, 'loss': 0.48467177152633667}, {'accuracy': 0.8139294385910034, 'loss': 0.6776885986328125}, {'accuracy': 0.8311001062393188, 'loss': 0.48609912395477295}, {'accuracy': 0.826064944267273, 'loss': 0.7211677432060242}, {'accuracy': 0.8643597960472107, 'loss': 0.39087387919425964}, {'accuracy': 0.7742842435836792, 'loss': 1.1160534620285034}, {'accuracy': 0.9450100064277649, 'loss': 0.14537441730499268}, {'accuracy': 0.810670018196106, 'loss': 0.43195268511772156}]
# # acum_fixed_proportion = calc_acc(accs)
# # print('sigon without patience ', acum_fixed_proportion)


# # fine tuning without patience
# #accs = [{'accuracy': 0.771877110004425, 'loss': 1.434792160987854}, {'accuracy': 0.608696460723877, 'loss': 4.410884857177734}, {'accuracy': 0.5673449635505676, 'loss': 8.63137149810791}, {'accuracy': 0.8243923187255859, 'loss': 1.1304649114608765}, {'accuracy': 0.7316823601722717, 'loss': 2.7609047889709473}, {'accuracy': 0.5280055999755859, 'loss': 7.74774169921875}, {'accuracy': 0.5244550108909607, 'loss': 7.831681728363037}, {'accuracy': 0.736554741859436, 'loss': 1.4624838829040527}, {'accuracy': 0.5032739043235779, 'loss': 5.560734748840332}, {'accuracy': 0.4269215762615204, 'loss': 5.5900044441223145}, {'accuracy': 0.5309100151062012, 'loss': 8.014731407165527}, {'accuracy': 0.9162799715995789, 'loss': 0.19659090042114258}]

# # accs = [{'accuracy': 0.7960073947906494, 'loss': 2.749032497406006}, {'accuracy': 0.6381587386131287, 'loss': 4.785417556762695}, {'accuracy': 0.7536182999610901, 'loss': 1.8407288789749146}, {'accuracy': 0.7832456231117249, 'loss': 2.2970972061157227}, {'accuracy': 0.7645931243896484, 'loss': 1.8465231657028198}, {'accuracy': 0.7602322101593018, 'loss': 1.618696689605713}, {'accuracy': 0.7822874188423157, 'loss': 2.323268413543701}, {'accuracy': 0.810742974281311, 'loss': 0.716382622718811}, {'accuracy': 0.8237983584403992, 'loss': 1.836588740348816}, {'accuracy': 0.8066053986549377, 'loss': 2.0582118034362793}, {'accuracy': 0.8218200206756592, 'loss': 1.3812228441238403}, {'accuracy': 0.9424499869346619, 'loss': 0.15415090322494507}]

# # accs = [{'accuracy': 0.7590044140815735, 'loss': 1.7108134031295776}, {'accuracy': 0.7594990730285645, 'loss': 1.969443440437317}, {'accuracy': 0.5940758585929871, 'loss': 5.199756145477295}, {'accuracy': 0.8476057052612305, 'loss': 1.6484651565551758}, {'accuracy': 0.6903859376907349, 'loss': 3.8003346920013428}, {'accuracy': 0.5174480080604553, 'loss': 10.661702156066895}, {'accuracy': 0.5660916566848755, 'loss': 7.421367645263672}, {'accuracy': 0.8001100420951843, 'loss': 1.1750980615615845}, {'accuracy': 0.5961700677871704, 'loss': 3.8102974891662598}, {'accuracy': 0.4933459758758545, 'loss': 6.921313285827637}, {'accuracy': 0.5414199829101562, 'loss': 9.341075897216797}, {'accuracy': 0.9193599820137024, 'loss': 0.25441843271255493}]

# # acum_fixed_proportion = calc_acc(accs)
# # print('fine tuning without patience ', acum_fixed_proportion)

# # train with patience 30 epochs

# accs = [{'accuracy': 0.6398391127586365, 'loss': 1.3706765174865723}, {'accuracy': 0.5898738503456116, 'loss': 1.5535271167755127}, {'accuracy': 0.6314991116523743, 'loss': 1.9631201028823853}, {'accuracy': 0.5787028074264526, 'loss': 2.361694574356079}, {'accuracy': 0.5605288147926331, 'loss': 3.4585304260253906}, {'accuracy': 0.778103768825531, 'loss': 0.8565992712974548}, {'accuracy': 0.8254020810127258, 'loss': 0.7520545721054077}, {'accuracy': 0.7377215027809143, 'loss': 0.9219614863395691}, {'accuracy': 0.7377208471298218, 'loss': 0.9623509049415588}, {'accuracy': 0.41067418456077576, 'loss': 3.1974799633026123}, {'accuracy': 0.641319990158081, 'loss': 1.88167142868042}, {'accuracy': 0.9502500295639038, 'loss': 0.12612076103687286}]

# acum_fixed_proportion = calc_acc(accs)
# print('train with patience 30 epochs ', acum_fixed_proportion)



# # fine tuning with patience
# accs = [{'accuracy': 0.7520431280136108, 'loss': 1.1659390926361084}, {'accuracy': 0.5964127779006958, 'loss': 3.152017593383789}, {'accuracy': 0.7075978517532349, 'loss': 1.2163687944412231}, {'accuracy': 0.784973680973053, 'loss': 1.5738083124160767}, {'accuracy': 0.7322486639022827, 'loss': 1.4965415000915527}, {'accuracy': 0.6828371286392212, 'loss': 1.9476923942565918}, {'accuracy': 0.5998910665512085, 'loss': 5.9404826164245605}, {'accuracy': 0.7771711349487305, 'loss': 0.9520736336708069}, {'accuracy': 0.7824722528457642, 'loss': 1.019233226776123}, {'accuracy': 0.8233503699302673, 'loss': 1.0177839994430542}, {'accuracy': 0.8578500151634216, 'loss': 0.7296817898750305}, {'accuracy': 0.951770007610321, 'loss': 0.127969428896904}]

# acum_fixed_proportion = calc_acc(accs)
# print('fine tuning with patience ', acum_fixed_proportion)

# # feature extraction with patience
# accs = [{'accuracy': 0.7526730895042419, 'loss': 0.48452094197273254}, {'accuracy': 0.7626392245292664, 'loss': 0.48771560192108154}, {'accuracy': 0.7338230013847351, 'loss': 0.5513823628425598}, {'accuracy': 0.7765254974365234, 'loss': 0.5837985873222351}, {'accuracy': 0.7689492702484131, 'loss': 0.4717712700366974}, {'accuracy': 0.7665544152259827, 'loss': 0.5621277093887329}, {'accuracy': 0.721728503704071, 'loss': 0.9529191851615906}, {'accuracy': 0.7920748591423035, 'loss': 0.5294930338859558}, {'accuracy': 0.7863435745239258, 'loss': 0.49783164262771606}, {'accuracy': 0.7989099025726318, 'loss': 0.601657509803772}, {'accuracy': 0.8203700184822083, 'loss': 0.528947651386261}, {'accuracy': 0.8011699914932251, 'loss': 0.4624839127063751}]

# acum_fixed_proportion = calc_acc(accs)
# print('feature extraction with patience ', acum_fixed_proportion)


# # sigon with patience
# accs = [{'accuracy': 0.799980640411377, 'loss': 0.8335449695587158}, {'accuracy': 0.6740122437477112, 'loss': 1.503419041633606}, {'accuracy': 0.7705478668212891, 'loss': 1.0103161334991455}, {'accuracy': 0.736146867275238, 'loss': 1.4983092546463013}, {'accuracy': 0.8373410105705261, 'loss': 0.46404385566711426}, {'accuracy': 0.8084957003593445, 'loss': 0.5741839408874512}, {'accuracy': 0.8741175532341003, 'loss': 0.4561041593551636}, {'accuracy': 0.8269455432891846, 'loss': 0.45654043555259705}, {'accuracy': 0.8748108148574829, 'loss': 0.361694872379303}, {'accuracy': 0.8562501668930054, 'loss': 0.7491525411605835}, {'accuracy': 0.9340900182723999, 'loss': 0.16257108747959137}, {'accuracy': 0.8908399939537048, 'loss': 0.3053283095359802}]


# acum_fixed_proportion = calc_acc(accs)
# print('sigon with patience ', acum_fixed_proportion)

# #sigon with data dynamic rate for retrain
# accs = [{'accuracy': 0.9294989705085754, 'loss': 0.19887974858283997}, {'accuracy': 0.9099876284599304, 'loss': 0.3282032608985901}, {'accuracy': 0.904443085193634, 'loss': 0.31544581055641174}, {'accuracy': 0.9192619323730469, 'loss': 0.29639357328414917}, {'accuracy': 0.9143361449241638, 'loss': 0.3209538757801056}, {'accuracy': 0.9089688062667847, 'loss': 0.31420639157295227}, {'accuracy': 0.920207679271698, 'loss': 0.41278064250946045}, {'accuracy': 0.8814529180526733, 'loss': 0.46024081110954285}, {'accuracy': 0.8955217003822327, 'loss': 0.307756632566452}, {'accuracy': 0.9369893670082092, 'loss': 0.24172954261302948}, {'accuracy': 0.9386000037193298, 'loss': 0.2631545066833496}, {'accuracy': 0.879800021648407, 'loss': 0.5351479053497314}]


# acum_fixed_proportion = calc_acc(accs)
# print('sigon with data dynamic rate for retrain ', acum_fixed_proportion)

# # fine tuning only with data proportion dynamic
# accs = [{'accuracy': 0.9102787971496582, 'loss': 0.2197830229997635}, {'accuracy': 0.9066996574401855, 'loss': 0.2298172265291214}, {'accuracy': 0.884455144405365, 'loss': 0.289811909198761}, {'accuracy': 0.9155562520027161, 'loss': 0.20625431835651398}, {'accuracy': 0.9204347729682922, 'loss': 0.19730831682682037}, {'accuracy': 0.9062002897262573, 'loss': 0.24091532826423645}, {'accuracy': 0.9197604060173035, 'loss': 0.24469943344593048}, {'accuracy': 0.9001650810241699, 'loss': 0.23908604681491852}, {'accuracy': 0.8932116031646729, 'loss': 0.250688761472702}, {'accuracy': 0.8513550758361816, 'loss': 0.4051770865917206}, {'accuracy': 0.8731099963188171, 'loss': 0.4218432307243347}, {'accuracy': 0.8853899836540222, 'loss': 0.2906770706176758}]
# acum_fixed_proportion = calc_acc(accs)
# print('fine tuning only with data proport dynamic rate for retrain ', acum_fixed_proportion)


# # train only with dynamic rate
# accs = [{'accuracy': 0.9211487174034119, 'loss': 0.2038041651248932}, {'accuracy': 0.9042429327964783, 'loss': 0.2285042107105255}, {'accuracy': 0.9016495943069458, 'loss': 0.23913562297821045}, {'accuracy': 0.9183403253555298, 'loss': 0.23734484612941742}, {'accuracy': 0.9116570949554443, 'loss': 0.2220020890235901}, {'accuracy': 0.8944649696350098, 'loss': 0.27509427070617676}, {'accuracy': 0.9153458476066589, 'loss': 0.26690709590911865}, {'accuracy': 0.8964887261390686, 'loss': 0.2488309144973755}, {'accuracy': 0.9052876234054565, 'loss': 0.24428647756576538}, {'accuracy': 0.922940731048584, 'loss': 0.1988667994737625}, {'accuracy': 0.8896300196647644, 'loss': 0.3431190252304077}, {'accuracy': 0.9007099866867065, 'loss': 0.25950750708580017}]

# acum_fixed_proportion = calc_acc(accs)
# print('train only with dynamic rate retrain ', acum_fixed_proportion)

# # feature with rate
# accs = [{'accuracy': 0.9314694404602051, 'loss': 0.217714324593544}, {'accuracy': 0.8546650409698486, 'loss': 0.34645339846611023}, {'accuracy': 0.8115352392196655, 'loss': 0.3990727663040161}, {'accuracy': 0.8525978326797485, 'loss': 0.3407118320465088}, {'accuracy': 0.863085925579071, 'loss': 0.32172277569770813}, {'accuracy': 0.7519885897636414, 'loss': 0.4862246513366699}, {'accuracy': 0.7814900279045105, 'loss': 0.412109375}, {'accuracy': 0.8215740323066711, 'loss': 0.402566522359848}, {'accuracy': 0.7688189744949341, 'loss': 0.43466538190841675}, {'accuracy': 0.7565672397613525, 'loss': 0.6406872272491455}, {'accuracy': 0.6862499713897705, 'loss': 0.5555062890052795}, {'accuracy': 0.6978700160980225, 'loss': 0.5698935389518738}]
# acum_fixed_proportion = calc_acc(accs)
# print('feature only with dynamic rate retrain ', acum_fixed_proportion)


# # sigon with fixed rate

# accs = [{'accuracy': 0.925073504447937, 'loss': 0.21027664840221405}, {'accuracy': 0.900844156742096, 'loss': 0.31443509459495544}, {'accuracy': 0.8945935964584351, 'loss': 0.2710370719432831}, {'accuracy': 0.8505241870880127, 'loss': 0.7742862701416016}, {'accuracy': 0.9205218553543091, 'loss': 0.22801870107650757}, {'accuracy': 0.9108076095581055, 'loss': 0.2384655475616455}, {'accuracy': 0.9197020530700684, 'loss': 0.34924453496932983}, {'accuracy': 0.9079141616821289, 'loss': 0.3019260764122009}, {'accuracy': 0.9198967814445496, 'loss': 0.1996772587299347}, {'accuracy': 0.9475547671318054, 'loss': 0.14471472799777985}, {'accuracy': 0.9414799809455872, 'loss': 0.1726217418909073}, {'accuracy': 0.8614400029182434, 'loss': 0.43386897444725037}]
# acum_fixed_proportion = calc_acc(accs)
# print('sigon with fixed rate retrain ', acum_fixed_proportion)


# # accs = [{'accuracy': 0.7240042686462402, 'loss': 1.7877434492111206}, {'accuracy': 0.6805511713027954, 'loss': 1.0729985237121582}, {'accuracy': 0.7743527889251709, 'loss': 0.5748555064201355}, {'accuracy': 0.8038477897644043, 'loss': 0.914389967918396}, {'accuracy': 0.7765507698059082, 'loss': 0.6579062342643738}, {'accuracy': 0.8105617761611938, 'loss': 0.5680603384971619}, {'accuracy': 0.8278329968452454, 'loss': 0.5433345437049866}, {'accuracy': 0.8459438681602478, 'loss': 0.4899245500564575}, {'accuracy': 0.8516942858695984, 'loss': 0.39875850081443787}, {'accuracy': 0.8132941126823425, 'loss': 1.1978869438171387}, {'accuracy': 0.9226700067520142, 'loss': 0.18619447946548462}, {'accuracy': 0.86149001121521, 'loss': 0.41831812262535095}]
# #accs = [{'accuracy': 0.7853312492370605, 'loss': 0.46829643845558167}, {'accuracy': 0.5799360871315002, 'loss': 1.3216900825500488}, {'accuracy': 0.8192654848098755, 'loss': 0.3981204330921173}, {'accuracy': 0.8131791949272156, 'loss': 0.5874815583229065}, {'accuracy': 0.7631338238716125, 'loss': 0.6236040592193604}, {'accuracy': 0.8626474738121033, 'loss': 0.37003540992736816}, {'accuracy': 0.8708115220069885, 'loss': 0.30052509903907776}, {'accuracy': 0.8628508448600769, 'loss': 0.357641339302063}, {'accuracy': 0.9112619161605835, 'loss': 0.21954560279846191}, {'accuracy': 0.8894160389900208, 'loss': 0.3290694057941437}, {'accuracy': 0.5598899722099304, 'loss': 1.4078394174575806}, {'accuracy': 0.8456100225448608, 'loss': 0.34820422530174255}]
# # accs = [{'accuracy': 0.7152178883552551, 'loss': 1.3910797834396362}, {'accuracy': 0.6939246654510498, 'loss': 1.0998241901397705}, {'accuracy': 0.6870560050010681, 'loss': 1.1910991668701172}, {'accuracy': 0.7977612018585205, 'loss': 0.47855159640312195}, {'accuracy': 0.8468374013900757, 'loss': 0.5107095837593079}, {'accuracy': 0.7616784572601318, 'loss': 0.6541630029678345}, {'accuracy': 0.8517531752586365, 'loss': 0.4542466104030609}, {'accuracy': 0.8277380466461182, 'loss': 0.60170578956604}, {'accuracy': 0.8277174830436707, 'loss': 0.3780207633972168}, {'accuracy': 0.7913764119148254, 'loss': 0.856499195098877}, {'accuracy': 0.8506799936294556, 'loss': 0.3972407877445221}, {'accuracy': 0.8634399771690369, 'loss': 0.3315788805484772}]
# accs = [{'accuracy': 0.6878250241279602, 'loss': 0.8294684290885925}, {'accuracy': 0.7628239393234253, 'loss': 0.7366928458213806}, {'accuracy': 0.7674412727355957, 'loss': 0.7876757979393005}, {'accuracy': 0.7715717554092407, 'loss': 1.4800961017608643}, {'accuracy': 0.8317215442657471, 'loss': 0.45094916224479675}, {'accuracy': 0.794343113899231, 'loss': 0.9963297247886658}, {'accuracy': 0.8625853061676025, 'loss': 0.5517492890357971}, {'accuracy': 0.8243698477745056, 'loss': 0.5775917172431946}, {'accuracy': 0.7780114412307739, 'loss': 1.5619021654129028}, {'accuracy': 0.8880736827850342, 'loss': 0.3706255853176117}, {'accuracy': 0.937749981880188, 'loss': 0.1655401587486267}, {'accuracy': 0.8724799752235413, 'loss': 0.3033185303211212}]

# acum_fixed_proportion = calc_acc(accs)
# print('sigon with learning rate ', acum_fixed_proportion)
