import matplotlib.pyplot as plt
# Plot the learning curves for loss

accs = [{'accuracy': 0.6337015628814697, 'loss': 1.3424501419067383}, {'accuracy': 0.5909082293510437, 'loss': 2.3498494625091553}, {'accuracy': 0.6691872477531433, 'loss': 1.107231855392456}, {'accuracy': 0.78524249792099, 'loss': 0.7727143168449402}, {'accuracy': 0.651006281375885, 'loss': 1.2402790784835815}, {'accuracy': 0.6210615634918213, 'loss': 1.4199453592300415}, {'accuracy': 0.5746290683746338, 'loss': 2.514479637145996}, {'accuracy': 0.7563676238059998, 'loss': 0.652887761592865}, {'accuracy': 0.8021316528320312, 'loss': 0.6214675307273865}, {'accuracy': 0.86892169713974, 'loss': 0.46418896317481995}, {'accuracy': 0.7700200080871582, 'loss': 0.8449742197990417}, {'accuracy': 0.937720000743866, 'loss': 0.15833604335784912}]



def plot_accs_comparison(train, finetuning, feature_extraction, sigon):

    test_accuracy_train = []
    test_accuracy_fe = []
    test_accuracy_ft = []
    test_accuracy_sigon = []
    test_loss = []

    for idx, _ in enumerate(train):
        test_accuracy_train.append(train[idx]['accuracy'])
        test_accuracy_fe.append(feature_extraction[idx]['accuracy'])
        test_accuracy_sigon.append(sigon[idx]['accuracy'])
        test_accuracy_ft.append(finetuning[idx]['accuracy'])
        
        
        
    months = list(range(1, len(accs) + 1))  # Criando meses de 1 a n


    plt.plot(months, test_accuracy_train, label='Only Train')
    plt.plot(months, test_accuracy_fe, label='Only Feature Extraction')
    plt.plot(months, test_accuracy_ft, label='Only Fine Tuning')
    plt.plot(months, test_accuracy_sigon, label='Only Sigon', linestyle='--', linewidth = '2.5')
    plt.legend()
    plt.title("Models Accuracy", fontsize=14)
    plt.xlabel('Month')
    plt.ylabel('Accuracy')

    plt.xticks(months)  # Define os marcadores no eixo x para cada mÃªs


    plt.show()



# without patience - 10 epochs
accs_train = [{'accuracy': 0.6757922172546387, 'loss': 1.6378546953201294}, {'accuracy': 0.6637604832649231, 'loss': 1.4598082304000854}, {'accuracy': 0.7442986369132996, 'loss': 0.8718604445457458}, {'accuracy': 0.7777543067932129, 'loss': 0.9348107576370239}, {'accuracy': 0.5877548456192017, 'loss': 2.3813064098358154}, {'accuracy': 0.7016177177429199, 'loss': 0.9325154423713684}, {'accuracy': 0.8328503966331482, 'loss': 0.5383077263832092}, {'accuracy': 0.728915810585022, 'loss': 0.6783694624900818}, {'accuracy': 0.786216139793396, 'loss': 0.5824248790740967}, {'accuracy': 0.8504409193992615, 'loss': 0.40613722801208496}, {'accuracy': 0.7989400029182434, 'loss': 1.0030298233032227}, {'accuracy': 0.9368100166320801, 'loss': 0.15533596277236938}]
accs_feature_extraction = [{'accuracy': 0.8133701682090759, 'loss': 0.5171031355857849}, {'accuracy': 0.7884441614151001, 'loss': 0.5949926376342773}, {'accuracy': 0.7359662652015686, 'loss': 0.636816143989563}, {'accuracy': 0.8350870013237, 'loss': 0.4211626350879669}, {'accuracy': 0.8179343342781067, 'loss': 0.4072049558162689}, {'accuracy': 0.774364173412323, 'loss': 0.5046935081481934}, {'accuracy': 0.6667120456695557, 'loss': 0.8047672510147095}, {'accuracy': 0.7777435183525085, 'loss': 0.4867733418941498}, {'accuracy': 0.7322723269462585, 'loss': 0.5805051326751709}, {'accuracy': 0.6587821245193481, 'loss': 0.600671648979187}, {'accuracy': 0.6301400065422058, 'loss': 0.9252728819847107}, {'accuracy': 0.7541599869728088, 'loss': 0.4703691005706787}]
accs_sigon = [{'accuracy': 0.7657234072685242, 'loss': 0.7329353094100952}, {'accuracy': 0.8152649998664856, 'loss': 0.6595790982246399}, {'accuracy': 0.8010114431381226, 'loss': 0.5885656476020813}, {'accuracy': 0.7436350584030151, 'loss': 1.380829930305481}, {'accuracy': 0.8319829106330872, 'loss': 0.48467177152633667}, {'accuracy': 0.8139294385910034, 'loss': 0.6776885986328125}, {'accuracy': 0.8311001062393188, 'loss': 0.48609912395477295}, {'accuracy': 0.826064944267273, 'loss': 0.7211677432060242}, {'accuracy': 0.8643597960472107, 'loss': 0.39087387919425964}, {'accuracy': 0.7742842435836792, 'loss': 1.1160534620285034}, {'accuracy': 0.9450100064277649, 'loss': 0.14537441730499268}, {'accuracy': 0.810670018196106, 'loss': 0.43195268511772156}]
accs_fine_tuning = [{'accuracy': 0.7590044140815735, 'loss': 1.7108134031295776}, {'accuracy': 0.7594990730285645, 'loss': 1.969443440437317}, {'accuracy': 0.5940758585929871, 'loss': 5.199756145477295}, {'accuracy': 0.8476057052612305, 'loss': 1.6484651565551758}, {'accuracy': 0.6903859376907349, 'loss': 3.8003346920013428}, {'accuracy': 0.5174480080604553, 'loss': 10.661702156066895}, {'accuracy': 0.5660916566848755, 'loss': 7.421367645263672}, {'accuracy': 0.8001100420951843, 'loss': 1.1750980615615845}, {'accuracy': 0.5961700677871704, 'loss': 3.8102974891662598}, {'accuracy': 0.4933459758758545, 'loss': 6.921313285827637}, {'accuracy': 0.5414199829101562, 'loss': 9.341075897216797}, {'accuracy': 0.9193599820137024, 'loss': 0.25441843271255493}]

#plot_accs_comparison(accs_train, accs_fine_tuning, accs_feature_extraction, accs_sigon)


# train with patience
accs_train = [{'accuracy': 0.6398391127586365, 'loss': 1.3706765174865723}, {'accuracy': 0.5898738503456116, 'loss': 1.5535271167755127}, {'accuracy': 0.6314991116523743, 'loss': 1.9631201028823853}, {'accuracy': 0.5787028074264526, 'loss': 2.361694574356079}, {'accuracy': 0.5605288147926331, 'loss': 3.4585304260253906}, {'accuracy': 0.778103768825531, 'loss': 0.8565992712974548}, {'accuracy': 0.8254020810127258, 'loss': 0.7520545721054077}, {'accuracy': 0.7377215027809143, 'loss': 0.9219614863395691}, {'accuracy': 0.7377208471298218, 'loss': 0.9623509049415588}, {'accuracy': 0.41067418456077576, 'loss': 3.1974799633026123}, {'accuracy': 0.641319990158081, 'loss': 1.88167142868042}, {'accuracy': 0.9502500295639038, 'loss': 0.12612076103687286}]

# fine tuning with patience
accs_fine_tuning = [{'accuracy': 0.7520431280136108, 'loss': 1.1659390926361084}, {'accuracy': 0.5964127779006958, 'loss': 3.152017593383789}, {'accuracy': 0.7075978517532349, 'loss': 1.2163687944412231}, {'accuracy': 0.784973680973053, 'loss': 1.5738083124160767}, {'accuracy': 0.7322486639022827, 'loss': 1.4965415000915527}, {'accuracy': 0.6828371286392212, 'loss': 1.9476923942565918}, {'accuracy': 0.5998910665512085, 'loss': 5.9404826164245605}, {'accuracy': 0.7771711349487305, 'loss': 0.9520736336708069}, {'accuracy': 0.7824722528457642, 'loss': 1.019233226776123}, {'accuracy': 0.8233503699302673, 'loss': 1.0177839994430542}, {'accuracy': 0.8578500151634216, 'loss': 0.7296817898750305}, {'accuracy': 0.951770007610321, 'loss': 0.127969428896904}]

# feature extraction with patience
accs_feature_extraction = [{'accuracy': 0.7526730895042419, 'loss': 0.48452094197273254}, {'accuracy': 0.7626392245292664, 'loss': 0.48771560192108154}, {'accuracy': 0.7338230013847351, 'loss': 0.5513823628425598}, {'accuracy': 0.7765254974365234, 'loss': 0.5837985873222351}, {'accuracy': 0.7689492702484131, 'loss': 0.4717712700366974}, {'accuracy': 0.7665544152259827, 'loss': 0.5621277093887329}, {'accuracy': 0.721728503704071, 'loss': 0.9529191851615906}, {'accuracy': 0.7920748591423035, 'loss': 0.5294930338859558}, {'accuracy': 0.7863435745239258, 'loss': 0.49783164262771606}, {'accuracy': 0.7989099025726318, 'loss': 0.601657509803772}, {'accuracy': 0.8203700184822083, 'loss': 0.528947651386261}, {'accuracy': 0.8011699914932251, 'loss': 0.4624839127063751}]

# sigon with patience
accs_sigon = [{'accuracy': 0.799980640411377, 'loss': 0.8335449695587158}, {'accuracy': 0.6740122437477112, 'loss': 1.503419041633606}, {'accuracy': 0.7705478668212891, 'loss': 1.0103161334991455}, {'accuracy': 0.736146867275238, 'loss': 1.4983092546463013}, {'accuracy': 0.8373410105705261, 'loss': 0.46404385566711426}, {'accuracy': 0.8084957003593445, 'loss': 0.5741839408874512}, {'accuracy': 0.8741175532341003, 'loss': 0.4561041593551636}, {'accuracy': 0.8269455432891846, 'loss': 0.45654043555259705}, {'accuracy': 0.8748108148574829, 'loss': 0.361694872379303}, {'accuracy': 0.8562501668930054, 'loss': 0.7491525411605835}, {'accuracy': 0.9340900182723999, 'loss': 0.16257108747959137}, {'accuracy': 0.8908399939537048, 'loss': 0.3053283095359802}]


# plot_accs_comparison(accs_train, accs_fine_tuning, accs_feature_extraction, accs_sigon)


# train only with dynamic rate
accs_train = [{'accuracy': 0.9211487174034119, 'loss': 0.2038041651248932}, {'accuracy': 0.9042429327964783, 'loss': 0.2285042107105255}, {'accuracy': 0.9016495943069458, 'loss': 0.23913562297821045}, {'accuracy': 0.9183403253555298, 'loss': 0.23734484612941742}, {'accuracy': 0.9116570949554443, 'loss': 0.2220020890235901}, {'accuracy': 0.8944649696350098, 'loss': 0.27509427070617676}, {'accuracy': 0.9153458476066589, 'loss': 0.26690709590911865}, {'accuracy': 0.8964887261390686, 'loss': 0.2488309144973755}, {'accuracy': 0.9052876234054565, 'loss': 0.24428647756576538}, {'accuracy': 0.922940731048584, 'loss': 0.1988667994737625}, {'accuracy': 0.8896300196647644, 'loss': 0.3431190252304077}, {'accuracy': 0.9007099866867065, 'loss': 0.25950750708580017}]

# fine tuning only with data proportion dynamic
accs_fine_tuning = [{'accuracy': 0.9102787971496582, 'loss': 0.2197830229997635}, {'accuracy': 0.9066996574401855, 'loss': 0.2298172265291214}, {'accuracy': 0.884455144405365, 'loss': 0.289811909198761}, {'accuracy': 0.9155562520027161, 'loss': 0.20625431835651398}, {'accuracy': 0.9204347729682922, 'loss': 0.19730831682682037}, {'accuracy': 0.9062002897262573, 'loss': 0.24091532826423645}, {'accuracy': 0.9197604060173035, 'loss': 0.24469943344593048}, {'accuracy': 0.9001650810241699, 'loss': 0.23908604681491852}, {'accuracy': 0.8932116031646729, 'loss': 0.250688761472702}, {'accuracy': 0.8513550758361816, 'loss': 0.4051770865917206}, {'accuracy': 0.8731099963188171, 'loss': 0.4218432307243347}, {'accuracy': 0.8853899836540222, 'loss': 0.2906770706176758}]

# feature with rate
accs_feature_extraction = [{'accuracy': 0.9314694404602051, 'loss': 0.217714324593544}, {'accuracy': 0.8546650409698486, 'loss': 0.34645339846611023}, {'accuracy': 0.8115352392196655, 'loss': 0.3990727663040161}, {'accuracy': 0.8525978326797485, 'loss': 0.3407118320465088}, {'accuracy': 0.863085925579071, 'loss': 0.32172277569770813}, {'accuracy': 0.7519885897636414, 'loss': 0.4862246513366699}, {'accuracy': 0.7814900279045105, 'loss': 0.412109375}, {'accuracy': 0.8215740323066711, 'loss': 0.402566522359848}, {'accuracy': 0.7688189744949341, 'loss': 0.43466538190841675}, {'accuracy': 0.7565672397613525, 'loss': 0.6406872272491455}, {'accuracy': 0.6862499713897705, 'loss': 0.5555062890052795}, {'accuracy': 0.6978700160980225, 'loss': 0.5698935389518738}]


#sigon with dynamic rate
accs_sigon = [{'accuracy': 0.9294989705085754, 'loss': 0.19887974858283997}, {'accuracy': 0.9099876284599304, 'loss': 0.3282032608985901}, {'accuracy': 0.904443085193634, 'loss': 0.31544581055641174}, {'accuracy': 0.9192619323730469, 'loss': 0.29639357328414917}, {'accuracy': 0.9143361449241638, 'loss': 0.3209538757801056}, {'accuracy': 0.9089688062667847, 'loss': 0.31420639157295227}, {'accuracy': 0.920207679271698, 'loss': 0.41278064250946045}, {'accuracy': 0.8814529180526733, 'loss': 0.46024081110954285}, {'accuracy': 0.8955217003822327, 'loss': 0.307756632566452}, {'accuracy': 0.9369893670082092, 'loss': 0.24172954261302948}, {'accuracy': 0.9386000037193298, 'loss': 0.2631545066833496}, {'accuracy': 0.879800021648407, 'loss': 0.5351479053497314}]

plot_accs_comparison(accs_train, accs_fine_tuning, accs_feature_extraction, accs_sigon)
